/**
 * @license
 * (c) Copyright 2023 Grammarly, Inc.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function n(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}var t=new Map;class r extends Error{constructor(t,r){super(),n(this,"args",void 0),n(this,"code",void 0),n(this,"url",void 0);var e=new URL("https://developer.grammarly.com/docs/error-explainer");e.searchParams.set("code",t.toString()),r.forEach((n=>e.searchParams.append("args",function(n){if(n instanceof Error)return n.message+"\n"+String(n.stack);if(null==n)return"null";if("object"==typeof n)try{return Object.prototype.toString.call(n)}catch(n){}return String(n)}(n)))),null!=this.stack&&e.searchParams.set("trace",this.stack),this.message="Minified error #".concat(t,": See ").concat(e.toString()," for details."),this.args=r,this.code=t,this.url=e.toString()}toUserMessage(){var n=t.get("".concat(this.code));if(null==n)return[this];var r=new Map(this.args.map(((n,t)=>["${".concat(t,"}"),n])));return n.split(/(\${\d+})/).filter((n=>""!==n)).map((n=>{var t;return null!==(t=r.get(n))&&void 0!==t?t:n}))}static setMessages(n){t=n}static create(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;null!=o&&t.push(o);var a=new r(n,t,e);return a.stack=null==o?void 0:o.stack,a}}const e=new WeakMap;async function o(n,t,r){return await a("@grammarly/editor-sdk",n,t,r)}async function a(n,t,o,a){if("undefined"==typeof window&&void 0===a)throw new r(21,[]);const i=function(n){return"null"!==n.location.origin?n.location.origin:"null"!==n.origin?n.origin:"null"}(null!=a?a:window);"null"===i&&(null!=a?a:window).top!==(null!=a?a:window)&&console.warn("Grammarly is not supported in IFrames with `null` origin. Consider adding `sandbox='allow-same-origin allow-scripts'` to <iframe> element.");const s=new URL("https://js.grammarly.com/grammarly-editor-sdk@2.3",i);null!=t&&s.searchParams.set("clientId",t),s.searchParams.set("packageName",n);const l=await async function(n,t){const o=e.get(n);if(null!=o)return await o;!function(n){null==n.Grammarly&&(n.Grammarly={})}(n);const a=new Promise(((e,o)=>{try{let e=function(n,t){return n.document.querySelectorAll(`script[src^="${t.replace(/\?.*$/,"")}"]`)[0]}(n,t);null!=e?a():(e=function(n,t){const r=n.document.createElement("script");return r.src=t,n.document.head.appendChild(r),r}(n,t),e.addEventListener("load",a),e.addEventListener("error",(function(){try{throw new r(23,[])}catch(n){o(n)}})))}catch(n){return o(n)}function a(){try{if(null==n.Grammarly||"function"!=typeof n.Grammarly.EditorSDK)throw new r(22,[]);e(n.Grammarly)}catch(n){o(n)}}}));return e.set(n,a),await a}(null!=a?a:window,s.toString());if(null!=t)return new l.EditorSDK(t,o)}const i={onBeforeSuggestionCardOpen:"before-suggestion-card-open",onSuggestionCardOpen:"suggestion-card-open",onSuggestionCardClose:"suggestion-card-close",onPluginTurnedOff:"plugin-turned-off",onPluginError:"plugin-error",onDocumentStats:"document-stats",onSessionStats:"session-stats"};export{i as callbackToEventName,o as init,a as init_with_packageName};
